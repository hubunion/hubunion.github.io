class d{constructor(t,s,a){this._mode="night",this._button=t,this._night=t.querySelector(".night"),this._day=t.querySelector(".day"),this._action=s,t.addEventListener("click",this._toggle.bind(this)),this._button.style.display="block";let i=a||(matchMedia("(prefers-color-scheme: dark)").matches?"night":"day");const e=new URLSearchParams(location.search).get("mode");e&&["night","day"].includes(e.toLowerCase())&&(i=e.toLowerCase()),i==="night"?this.turn("off"):this.turn("on")}_toggle(){this._mode==="night"?(this._night.dataset.active=!1,this._day.dataset.active=!0,document.body.classList.add("light"),document.body.classList.remove("dark"),this._mode="day",this._button.ariaLabel="Switch night mode on"):(this._night.dataset.active=!0,this._day.dataset.active=!1,document.body.classList.add("dark"),document.body.classList.remove("light"),this._mode="night",this._button.ariaLabel="Switch night mode off"),typeof this._action=="function"&&this._action(this._mode)}turn(t){t==="off"?this._mode="day":t==="on"&&(this._mode="night"),this._toggle()}}export{d as NightMode};
